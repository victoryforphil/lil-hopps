<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Robust Rust library for flattening JSON objects"><title>flatten_json_object - Rust</title><script> if (window.location.protocol !== "file:") document.write(`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2">`)</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-e935ef01ae1c1829.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="flatten_json_object" data-themes="" data-resource-suffix="" data-rustdoc-version="1.78.0 (9b00956e5 2024-04-29)" data-channel="1.78.0" data-search-js="search-42d8da7a6b9792c2.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-4c98445ec4002617.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-12cf3b4f4f9dc36d.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../flatten_json_object/index.html">flatten_json_object</a><span class="version">0.6.1</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li></ul></section></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../flatten_json_object/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">flatten_json_object</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/flatten_json_object/lib.rs.html#1-529">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Robust Rust library for flattening JSON objects</p>
<p>Given a JSON object it produces another one with all the nested objects and arrays flattened.
The string used to separate the concatenated keys, and the way the arrays are
formatted can be configured.</p>
<h4 id="notes"><a class="doc-anchor" href="#notes">§</a>Notes</h4>
<ul>
<li>Empty arrays and objects are ignored by default, but it’s configurable.</li>
<li>The empty key <code>&quot;&quot;</code> and the JSON <code>null</code> value can be used without problems and are preserved.</li>
<li>Having two or more keys that end being the same after flattening the object returns an error.</li>
<li>The JSON value passed to be flattened must be an object. The object can contain any valid JSON,
though.</li>
</ul>
<h4 id="usage-example"><a class="doc-anchor" href="#usage-example">§</a>Usage example</h4>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code> <span class="kw">use </span>flatten_json_object::ArrayFormatting;
 <span class="kw">use </span>flatten_json_object::Flattener;
 <span class="kw">use </span>serde_json::json;

 <span class="kw">let </span>obj = <span class="macro">json!</span>({
     <span class="string">"a"</span>: {
         <span class="string">"b"</span>: [<span class="number">1</span>, <span class="number">2.0</span>, <span class="string">"c"</span>, null, <span class="bool-val">true</span>, {}, []],
         <span class="string">"" </span>: <span class="string">"my_key_is_empty"
     </span>},
     <span class="string">"" </span>: <span class="string">"my_key_is_also_empty"
 </span>});
 <span class="macro">assert_eq!</span>(
     Flattener::new()
         .set_key_separator(<span class="string">"."</span>)
         .set_array_formatting(ArrayFormatting::Surrounded {
             start: <span class="string">"["</span>.to_string(),
             end: <span class="string">"]"</span>.to_string()
         })
         .set_preserve_empty_arrays(<span class="bool-val">false</span>)
         .set_preserve_empty_objects(<span class="bool-val">false</span>)
         .flatten(<span class="kw-2">&amp;</span>obj)<span class="question-mark">?</span>,
     <span class="macro">json!</span>({
         <span class="string">"a.b[0]"</span>: <span class="number">1</span>,
         <span class="string">"a.b[1]"</span>: <span class="number">2.0</span>,
         <span class="string">"a.b[2]"</span>: <span class="string">"c"</span>,
         <span class="string">"a.b[3]"</span>: null,
         <span class="string">"a.b[4]"</span>: <span class="bool-val">true</span>,
         <span class="string">"a."</span>: <span class="string">"my_key_is_empty"</span>,
         <span class="string">""</span>: <span class="string">"my_key_is_also_empty"</span>,
     })
 );</code></pre></div>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Flattener.html" title="struct flatten_json_object::Flattener">Flattener</a></div><div class="desc docblock-short">Basic struct of this crate. It contains the configuration. Instantiate it and use the method
<code>flatten</code> to flatten a JSON object.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.ArrayFormatting.html" title="enum flatten_json_object::ArrayFormatting">ArrayFormatting</a></div><div class="desc docblock-short">Enum to specify how arrays are formatted.</div></li><li><div class="item-name"><a class="enum" href="enum.Error.html" title="enum flatten_json_object::Error">Error</a></div><div class="desc docblock-short">Errors that can happen while using this crate.</div></li></ul></section></div></main></body></html>