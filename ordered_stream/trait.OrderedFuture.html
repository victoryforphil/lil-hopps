<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A `Future` that produces an item with an associated ordering."><title>OrderedFuture in ordered_stream - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-fa3bb1812debf86c.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="ordered_stream" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.1 (a28077b28 2023-12-04)" data-channel="1.74.1" data-search-js="search-8be46b629f5f14a8.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-c5bd66d33317d69f.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../ordered_stream/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a></nav><nav class="sidebar"><a class="logo-container" href="../ordered_stream/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">OrderedFuture</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Ordering">Ordering</a></li><li><a href="#associatedtype.Output">Output</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.poll_before">poll_before</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.position_hint">position_hint</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In ordered_stream</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="index.html">ordered_stream</a>::<wbr><a class="trait" href="#">OrderedFuture</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/ordered_stream/lib.rs.html#258-301">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait OrderedFuture {
    type <a href="#associatedtype.Ordering" class="associatedtype">Ordering</a>: <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a>;
    type <a href="#associatedtype.Output" class="associatedtype">Output</a>;

    // Required method
    fn <a href="#tymethod.poll_before" class="fn">poll_before</a>(
        self: <a class="struct" href="https://doc.rust-lang.org/1.74.1/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.74.1/std/primitive.reference.html">&amp;mut Self</a>&gt;,
        cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.74.1/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;,
        before: <a class="enum" href="https://doc.rust-lang.org/1.74.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;Self::<a class="associatedtype" href="trait.OrderedFuture.html#associatedtype.Ordering" title="type ordered_stream::OrderedFuture::Ordering">Ordering</a>&gt;
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.74.1/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.74.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(Self::<a class="associatedtype" href="trait.OrderedFuture.html#associatedtype.Ordering" title="type ordered_stream::OrderedFuture::Ordering">Ordering</a>, Self::<a class="associatedtype" href="trait.OrderedFuture.html#associatedtype.Output" title="type ordered_stream::OrderedFuture::Output">Output</a>)&gt;&gt;;

    // Provided method
    fn <a href="#method.position_hint" class="fn">position_hint</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.74.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="enum.MaybeBorrowed.html" title="enum ordered_stream::MaybeBorrowed">MaybeBorrowed</a>&lt;'_, Self::<a class="associatedtype" href="trait.OrderedFuture.html#associatedtype.Ordering" title="type ordered_stream::OrderedFuture::Ordering">Ordering</a>&gt;&gt; { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A <a href="https://doc.rust-lang.org/1.74.1/core/future/future/trait.Future.html" title="trait core::future::future::Future"><code>Future</code></a> that produces an item with an associated ordering.</p>
<p>This is equivalent to an <a href="trait.OrderedStream.html" title="trait ordered_stream::OrderedStream"><code>OrderedStream</code></a> that always produces exactly one item.  This trait
is not very useful on its own; see <a href="struct.FromFuture.html" title="struct ordered_stream::FromFuture"><code>FromFuture</code></a> to convert it to a stream.</p>
<p>It is valid to implement both <a href="https://doc.rust-lang.org/1.74.1/core/future/future/trait.Future.html" title="trait core::future::future::Future"><code>Future</code></a> and <a href="trait.OrderedFuture.html" title="trait ordered_stream::OrderedFuture"><code>OrderedFuture</code></a> on the
same type.  In this case, unless otherwise documented by the implementing type, neither poll
function should be invoked after either returns an output value.</p>
</div></details><h2 id="required-associated-types" class="small-section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedtype.Ordering" class="method"><a class="src rightside" href="../src/ordered_stream/lib.rs.html#260">source</a><h4 class="code-header">type <a href="#associatedtype.Ordering" class="associatedtype">Ordering</a>: <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a></h4></section></summary><div class="docblock"><p>See <a href="trait.OrderedStream.html#associatedtype.Ordering" title="associated type ordered_stream::OrderedStream::Ordering"><code>OrderedStream::Ordering</code></a>.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Output" class="method"><a class="src rightside" href="../src/ordered_stream/lib.rs.html#263">source</a><h4 class="code-header">type <a href="#associatedtype.Output" class="associatedtype">Output</a></h4></section></summary><div class="docblock"><p>See <a href="trait.OrderedStream.html#associatedtype.Data" title="associated type ordered_stream::OrderedStream::Data"><code>OrderedStream::Data</code></a>.</p>
</div></details></div><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.poll_before" class="method"><a class="src rightside" href="../src/ordered_stream/lib.rs.html#289-293">source</a><h4 class="code-header">fn <a href="#tymethod.poll_before" class="fn">poll_before</a>(
    self: <a class="struct" href="https://doc.rust-lang.org/1.74.1/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.74.1/std/primitive.reference.html">&amp;mut Self</a>&gt;,
    cx: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.74.1/core/task/wake/struct.Context.html" title="struct core::task::wake::Context">Context</a>&lt;'_&gt;,
    before: <a class="enum" href="https://doc.rust-lang.org/1.74.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;Self::<a class="associatedtype" href="trait.OrderedFuture.html#associatedtype.Ordering" title="type ordered_stream::OrderedFuture::Ordering">Ordering</a>&gt;
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.74.1/core/task/poll/enum.Poll.html" title="enum core::task::poll::Poll">Poll</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.74.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(Self::<a class="associatedtype" href="trait.OrderedFuture.html#associatedtype.Ordering" title="type ordered_stream::OrderedFuture::Ordering">Ordering</a>, Self::<a class="associatedtype" href="trait.OrderedFuture.html#associatedtype.Output" title="type ordered_stream::OrderedFuture::Output">Output</a>)&gt;&gt;</h4></section></summary><div class="docblock"><p>Attempt to pull out the value of this future, registering the current task for wakeup if
needed, and returning <code>None</code> if it is known that the future will not produce a value
ordered before the given point.</p>
<h5 id="return-value"><a href="#return-value">Return value</a></h5>
<p>There are several possible return values, each indicating a distinct state depending on the
value passed in <code>before</code>:</p>
<ul>
<li>
<p>If <code>before</code> was <code>None</code>, <code>Poll::Pending</code> means that this future’s value is not ready yet.
Implementations will ensure that the current task is notified when the next value may be
ready.</p>
</li>
<li>
<p>If <code>before</code> was <code>Some</code>, <code>Poll::Pending</code> means that this future’s value is not ready and
that it is not yet known if the value will be ordered prior to the given ordering value.
Implementations will ensure that the current task is notified when either the next value is
ready or once it is known that no such value will be produced.</p>
</li>
<li>
<p><code>Poll::Ready(Some(Data))</code> means that the future has successfully terminated.  The
returned ordering value <strong>may</strong> be greater than the value passed to <code>before</code>.  The
<code>poll_before</code> function should not be invoked again.</p>
</li>
<li>
<p><code>Poll::Ready(None)</code> means that this future will not produce an ordering token less than
the given token.  It is an error to return <code>None</code> if <code>before</code> was <code>None</code>.</p>
</li>
</ul>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.position_hint" class="method"><a class="src rightside" href="../src/ordered_stream/lib.rs.html#298-300">source</a><h4 class="code-header">fn <a href="#method.position_hint" class="fn">position_hint</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.74.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="enum.MaybeBorrowed.html" title="enum ordered_stream::MaybeBorrowed">MaybeBorrowed</a>&lt;'_, Self::<a class="associatedtype" href="trait.OrderedFuture.html#associatedtype.Ordering" title="type ordered_stream::OrderedFuture::Ordering">Ordering</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>The minimum value of the ordering of the item.</p>
<p>See <a href="trait.OrderedStream.html#method.position_hint" title="method ordered_stream::OrderedStream::position_hint"><code>OrderedStream::position_hint</code></a> for details.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../implementors/ordered_stream/trait.OrderedFuture.js" async></script></section></div></main></body></html>